name: Docker Image CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
jobs:
  build:
    environment:
      name: test
    runs-on: ubuntu-latest
     
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      

       
       
      - name: report image by action
        with:
          # Specify cluster app-proxy
          CF_HOST: https://victor.pipeline-team.cf-cd.com
          CF_API_KEY: "62b94dae30afb65bb9fed775.6d29095389f5944781791a17a48fc512"
          #CF_IMAGE: "095585282052.dkr.ecr.us-east-1.amazonaws.com/victor-test:latest"
          #CF_CONTAINER_REGISTRY_INTEGRATION: "test-ecr-new-1"
          #CF_WORKFLOW_NAME : "bla"
          CF_WORKFLOW_URL: "www.google.com"          
          CF_AWS_ROLE: arn:aws:iam::095585282052:role/test-victor-ecr
          CF_AWS_REGION: us-east-1
          VERSION: 0.0.86
          
          
          #CF_IMAGE: "quay.io/viktorcodefresh/repo:latest"
          #CF_REGISTRY_USERNAME: "viktorcodefresh"
          #CF_REGISTRY_PASSWORD: "Tkd1common"
          #CF_REGISTRY_DOMAIN: "quay.io"
          
          #CF_IMAGE: "victorcodefresh/victor-test-cf-pusher:1.0.3"                
          #CF_DOCKERHUB_USERNAME: "viktorcodefresh"
          #CF_DOCKERHUB_PASSWORD: "Tkd1common"
          
        uses: codefresh-io/codefresh-report-image@0.0.86
         


